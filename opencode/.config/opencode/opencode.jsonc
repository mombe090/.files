{
  "$schema": "https://opencode.ai/config.json",
  //"$schema": "./config.schema.json",

  // Theme configuration
  "theme": "tokyonight",
  "model": "anthropic/claude-sonnet-4-5",
  "small_model": "anthropic/claude-haiku-4-5",
  "autoupdate": false,
  "share": "disabled",

  // Global permissions
  "permission": {
    "bash": {
      "git push*": "deny",  // Explicitly deny all git push commands
    },
  },

  // Tools Config

  "agent": {
    "plan": {
      "mode": "primary",
      "permission": {
        "edit": "deny",      // Covers write, edit, patch, multiedit
        "bash": "deny",      // No shell commands in planning phase
        "webfetch": "allow", // Allow research
      },
    },
    "build": {
      "permission": {
        "bash": {
          "az *": "ask",  // Prompt for Azure CLI commands
        },
      },
    },
    // Note: "reviewer" agent now defined in agents/reviewer.md (markdown format)
  },

  "formatter": {
    "prettier": {
      "disabled": false,
    },
  },

  // Custom commands
  "command": {
    "commit": {
      "template": "Use the 'committer' skill to create a git commit following Conventional Commits specification. $ARGUMENTS",
      "description": "Create conventional commits with language support (en/fr). Usage: /commit [en|fr] [direction]",
    },
    "feature-gh": {
      "template": "Use the 'feature-gh' skill to create a GitHub feature request issue. $ARGUMENTS",
      "description": "Create GitHub feature issues using gh CLI. Usage: /feature-gh <description>",
    },
    "feature-tea": {
      "template": "Use the 'feature-tea' skill to create a Gitea feature request issue. $ARGUMENTS",
      "description": "Create Gitea feature issues using tea CLI. Usage: /feature-tea <description>",
    },
    "feature-az": {
      "template": "Use the 'feature-az' skill to create an Azure DevOps feature work item. $ARGUMENTS",
      "description": "Create Azure DevOps feature work items using az devops CLI. Usage: /feature-az <description>",
    },
  },

  // MCP server
  "mcp": {
    "Azure MCP Server": {
      "type": "local",
      "command": [
        "docker",
        "run",
        "-i",
        "--rm",
        "--volume",
        "~/.azure:/root/.azure",
        "mcr.microsoft.com/azure-sdk/azure-mcp:latest",
      ],
    },
    "ms-learn": {
      "type": "remote",
      "url": "https://learn.microsoft.com/api/mcp",
      "enabled": true,
      "timeout": 10000,
    },
    "tf-registry": {
      "type": "local",
      "enabled": true,
      "command": [
        "docker",
        "run",
        "-i",
        "--rm",
        "hashicorp/terraform-mcp-server:0.3.0",
      ],
    },
  },

  // TUI
  "tui": {
    "scroll_speed": 3,
    "scroll_acceleration": {
      "enabled": true,
    },
  },
}
